!function(e,r){function t(){grecaptcha.reset(s)}function a(e){var r=e.user_name,t=e.user_mail,a=e.user_phone,n=e.user_message,i="<hr style='border-top:1px dotted #66CCFF;'>",s="<p style='margin-bottom: 4px; margin-top: -1px'>Contact information:</p>",l="<span style='font-size: 95%; color: #333333; margin-left: 15px'>Name: <b>"+r+"</b></span><br/>",u="<span style='font-size: 95%; color: #333333; margin-left: 15px'>Phone: <b>"+a+"</b></span><br/>",c="<span style='font-size: 95%; color: #333333; margin-left: 15px'>Email: <b><a href='mailto:"+t+"'>"+t+"</a></b></span><br/>";return{captchaResponse:o["g-recaptcha-response"],Subject:"[404.md] Contact form",MessageText:n+"<br/><br/>"+i+s+l+u+c+i}}function n(e){var r="us-east-1:0fe5b617-d6a9-4474-8c8d-a31a11ff9fe7",t="";AWS.config.region="us-east-1",AWS.config.credentials=new AWS.CognitoIdentityCredentials({IdentityPoolId:r}),AWS.config.credentials.get(function(r){if(r)return void i(r,"error");t=AWS.config.credentials.identityId;var a=new AWS.CognitoIdentity;a.getCredentialsForIdentity({IdentityId:t},function(r,t){if(r)i(r,"error");else{var a=new AWS.Lambda(t.Credentials),n={FunctionName:"ContactForm404md",Payload:JSON.stringify(e)};a.invoke(n,function(e,r){if(200==r.StatusCode){var t=JSON.parse(r.Payload);t.errorMessage?i(t.errorMessage,"error"):i("Thank you for your email")}else i(e,"error")})}})})}function i(e,r){u.text(e).addClass(r||"success"),setTimeout(function(){u.empty(),u.text(e).fadeOut("slow"),t()},5e3)}e.validator.methods.matches=function(e,r,t){var a=new RegExp(t);return this.optional(r)||a.test(e)};var s,o={},l=e("#contact-us-form"),u=e(".status-message");r.createCaptcha=function(){s=grecaptcha.render("reCaptcha",{sitekey:"6LfqXhkUAAAAANDe9GkFvIyzqOF_q5hhTo4M5Xnb",size:"invisible",callback:function(e){o["g-recaptcha-response"]=e,n(a(o))}})},l.validate({rules:{user_name:{required:!0,minlength:3},user_phone:{required:!0,matches:"^([\\d\\s+])+$",minlength:9},user_mail:{required:!0,email:!0},user_message:{required:!0,minlength:10}},messages:{user_name:{required:"Name is required field",minlength:e.validator.format("At least {0} characters required!")},user_phone:{required:"Phone is required field",matches:"Please, use following format: 022999999",minlength:e.validator.format("At least {0} characters required!")},user_mail:{required:"Email is required",email:"Please, enter a valid email"},user_message:{required:"Message required",minlength:e.validator.format("At least {0} characters required!")}},submitHandler:function(r){grecaptcha.execute(s),e.each(l.serializeArray(),function(e,r){o[r.name]=r.value})}}),l.on("submit",function(r){r.preventDefault(),e("#msg").val("")})}(jQuery,window);